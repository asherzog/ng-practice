

<div class="row">
  <div class="col-md-8">
    <form name="newPost">
      <div>
        <label for="title">Title</label>
        <input id="title" class="form-control" ng-model="$ctrl.post.title" required>
      </div>
      <div>
        <label for="body">Body</label>
        <textarea id="body" class="form-control" ng-model="$ctrl.post.body" required></textarea>
      </div>
      <div>
        <label for="author">Author</label>
        <input id="author" class="form-control" ng-model="$ctrl.post.author" required>
      </div>
      <div>
        <label for="image-url">Image URL</label>
        <input id="image-url" class="form-control" ng-model="$ctrl.post.image" required>
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-primary" ng-click="$ctrl.createNewPost()" ng-disabled="newPost.$invalid">
          Create Post
        </button>
      </div>
    </form>
  </div>
</div>

<div ng-repeat="post in $ctrl.posts">
  <div class="row">
    <div class="col-md-12">
    <div class="well">
      <div class="media-left">
        <img class="media-object" ng-src="{{post.image}}">
      </div>
      <div class="media-body">
        <h4 class="media-heading">
          {{post.title}}
          |
          <a ng-click="$ctrl.upVoted(post)"><i class="glyphicon glyphicon-arrow-up"></i></a>
          <a ng-click="$ctrl.downVoted(post)"><i class="glyphicon glyphicon-arrow-down"></i></a>
          {{post.votes}}
        </h4>
        <div class="text-right">
          <h4>{{post.author}}</h4>
        </div>
        <p>
          {{post.body}}
        </p>
        <div>
          <span am-time-ago="{{post.time}}"></span>
          |
          <i class="glyphicon glyphicon-comment"></i>
          <a>
            <ng-pluralize count="post.comments.length"
                          when="{'one': 'one comment',
                                  'other': '{} comments'}">
            </ng-pluralize>
          </a>
        </div>
        <div class="row">
          <div class="col-md-offset-1">
            <hr>
            <p>
              Comment
            </p>
            <form class="form-inline">
              <div class="form-group">
                <input class="form-control" ng-model="post.comment">
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary" ng-click="$ctrl.addComment(post)">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
</div>
